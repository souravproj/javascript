<!DOCTYPE html>
<html>
  <head>
    <title>Calculator</title>
    <style>
      /* Style for the calculator container */
      .calculator {
        width: 300px;
        margin: 0 auto;
        border: 2px solid #ccc;
        border-radius: 5px;
        padding: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      /* Style for the display screen */
      #display {
        width: 93%;
        height: 40px;
        font-size: 24px;
        text-align: right;
        padding: 5px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
      }

      /* Style for the buttons */
      .buttons {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 5px;
      }

      button {
        width: 100%;
        height: 50px;
        font-size: 20px;
        cursor: pointer;
        border: 1px solid #ccc;
        border-radius: 3px;
        background-color: #f0f0f0;
      }

      button:hover {
        background-color: #e0e0e0;
      }

      .operator {
        background-color: #f0ad4e;
        color: white;
      }

      .operator:hover {
        background-color: #ec971f;
      }

      #clear {
        background-color: #d9534f;
        color: white;
      }

      #clear:hover {
        background-color: #c9302c;
      }
    </style>
  </head>
  <body>
    <div class="calculator">
      <input type="text" id="display" disabled />
      <div class="buttons">
        <button onclick="clearDisplay()" id="clear">C</button>
        <button onclick="appendToDisplay('/')" class="operator">/</button>
        <button onclick="appendToDisplay('*')" class="operator">*</button>
        <button onclick="deleteLast()" class="operator">DEL</button>

        <button onclick="appendToDisplay('7')">7</button>
        <button onclick="appendToDisplay('8')">8</button>
        <button onclick="appendToDisplay('9')">9</button>
        <button onclick="appendToDisplay('-')" class="operator">-</button>

        <button onclick="appendToDisplay('4')">4</button>
        <button onclick="appendToDisplay('5')">5</button>
        <button onclick="appendToDisplay('6')">6</button>
        <button onclick="appendToDisplay('+')" class="operator">+</button>

        <button onclick="appendToDisplay('1')">1</button>
        <button onclick="appendToDisplay('2')">2</button>
        <button onclick="appendToDisplay('3')">3</button>
        <button onclick="calculateResult()" class="operator">=</button>

        <button onclick="appendToDisplay('0')">0</button>
        <button onclick="appendToDisplay('.')">.</button>
      </div>
    </div>

    <script>
      // Get the display element from the HTML
      const display = document.getElementById("display");

      // This string will hold the number you are currently typing
      let currentInput = "";
      // This string will hold the first number in a calculation
      let firstInput = "";
      // This will store the operator (+, -, etc.)
      let operator = "";

      // This function is called when you click any of the number or operator buttons
      function appendToDisplay(value) {
        console.log("Value", value);
        // We just add the value of the button to our input string
        // currentInput += value;
        currentInput = currentInput + value;
        // Update the calculator screen to show the new input
        console.log("currentInput", currentInput);
        display.value = currentInput;
        console.log("display", display.value);
        console.log("display", typeof display.value);
      }

      // This function is called when you click the 'C' button
      function clearDisplay() {
        // We reset all our variables to empty
        currentInput = "";
        firstInput = "";
        operator = "";
        // Update the display to be empty
        display.value = "";

        console.log("currentInput", currentInput);
        console.log("firstInput", firstInput);
        console.log("operator", operator);
        console.log("display", display.value);
      }
      ("2+3-8*7");
      // This function is called when you click the '=' button
      function calculateResult() {
        // We use a function called 'eval' which takes a string and runs it as code.
        // For example, eval('2+2') would give you 4.
        // Note: eval() is simple, but can be a security risk in real web applications.
        try {
          const result = eval(currentInput);
          display.value = result;
          currentInput = result.toString(); // The result becomes the new input
        } catch (error) {
          // If there's an error (like '2+*3'), show 'Error'
          console.log("error", error);
          display.value = "Error";
          currentInput = "";
        }
        console.log("display", display.value);
      }

      // This function is called when you click the 'DEL' button
      function deleteLast() {
        // It removes the last character from the input string
        currentInput = currentInput.slice(0, -1);
        // Update the display
        display.value = currentInput;

        console.log("after delete one currentInput", currentInput);
      }
    </script>
  </body>
</html>
